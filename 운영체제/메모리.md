# 메모리

### 메모리 계층
***
메모리 계층은 레지스터, 캐시, 메모리, 저장장치로 이루어져 있습니다.
* 레지스터 : CPU안에 있는 작은 메모리, 휘발성, 속도가 가장 빠르며, 기억 용량이 적습니다.
* 캐시 : L1, L2 캐시를 저장합니다. 휘발성이며, 속도가 빠르며, 기억 용량이 적습니다. L3 캐시도 존재합니다.
* 주기억장치 : RAM을 가리킵니다. 휘발성이며, 보통의 속도를 가지며, 보통정도의 용량을 가지고 있습니다.
* 보조기억장치 : HDD, SSD를 일컬으며, 비휘발성, 속도가 낮고, 용량이 큽니다.

램은 하드디스크로 부터 일정량의 데이터를 복사해서 임시 저장하고 이를 필요 시마다 CPU에 빠르게 전달하는 역할을 합니다.

### 캐시 
***
캐시(cache)는 데이터를 미리 복사해 놓는 임시 저장소이자 빠른 장치와 느린 장치에서 속도 차이에 따른 병목 현상을 줄이기 위한 메모리를 뜻합니다. 메모리와 CPU 사이의 속도 차이가 너무 크기 떄문에 중간의 레지스터 계층을 둬서 속도 차이를 해결합니다. 속도 차이를 해결하기 위해 계층과 계층 사이에 있는 계층을 캐시 계층이라고 합니다. 
<br><br>
### 지역성의 원리
***
캐시 계층을 두는 것 말고 캐시를 직접 설정할때의 유의사항으로는 자주 사용하는 데이터를 기반으로 설정해야 합니다. 자주 사용하는 데이터의 근거로 지역성을 고려해야 합니다. 지역성은 시간 지역성(temporal locality), 공간 지역성(spatial locality)으로 나뉩니다.

* 시간 지역성 : 최근에 사용한 데이터에 다시 접근하려는 특성입니다. 
* 공간 지역성 : 최근 접속한 데이터를 이루고 있는 공간이나 그 가까운 공간에 접근하는 특성을 말합니다.

### 캐시히트와 캐시미스
***
* 캐시히트 : 캐시에서 원하는 데이터를 찾은 것을 말합니다.
* 캐시미스 : 원하는 데이터가 없다면 주메모리로 가서 데이터를 찾아오는 것을 말합니다.
* 캐시매핑 : 캐시매핑은 캐시가 히트되기 위해 매핑하는 방법을 말하며, CPU의 레지스터가 주 메모리(RAM) 간에 데이터를 주고 받을 때를 기반으로 설명합니다. 레지스터는 주 메모리에 비해 용량이 적기 때문에 매핑을 어떻게 해주냐가 중요합니다.
> 매핑의 종류<br>
 1. 직접 매핑(directed mapping) : 메모리가 1~100이 있고 캐시가 1~10이 있다면 1:1~10, 2:1~20 ... 이런 식으로 매핑을 하는 것을 말합니다. 처리가 빠르지만 충돌 발생이 잦습니다.
 2. 연관 매핑(associative mapping) : 순서를 일치 시키지 않고 관련 있는 캐시와 메모리를 매핑합니다. 충돌이 적지만 모든 블록을 탐색하여 속도가 느립니다.
 3. 집합 연관 매핑(set associative mapping) : 직접 매핑과 연관 매핑을 합쳐놓은 것을 말합니다. 효율적인 검색이 가능합니다. 

 ### 웹 브라우저의 캐시
 ***
 스프트웨어적인 대표적인 캐시로는 웹 브라우저의 작은 저장소 쿠키, 로컬 스토리지, 세션 스토리지가 있습니다. 이것은 웹 브라우저에 저장하여 통신시 자신을 나타내는 아이덴티티, 중복 요청 방지에 쓰입니다.
 * 쿠키 : 만료기한이 있는 키-값 저장소 입니다. 
 * 로컬 스토리지 : 만료기한이 없는 카-값 저장소 입니다. 10MB 까지 저장할 수 있으며 브라우저를 닫아도 유지되고, 모메인 단위로 저장, 생성합니다.
 * 세션 스토리지 : 만료기한이 없는 카-값 저장소 입니다. 5MB 까지 저장할 수 있으며 탭을 닫을 때 해당 데이터가 삭제됩니다.
 <br><br>
 ### 데이터베이스의 캐싱 계층
 ***
 데이터베이스 시스템을 구축할 때도 메인 데이터베이스 위에 레디스(redis) 데이터베이스 계층을 캐싱 계층으로 둬서 성능을 향상시키기도 합니다.

 ### 메모리 관리
 ***
 * 가상 메모리